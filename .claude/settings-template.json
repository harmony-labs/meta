{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "This is a meta-repo workspace — multiple independent git repos managed by the `meta` CLI.\n\nBefore allowing the agent to stop, check workspace state:\n\n1. Run `meta git status` to see which repos have uncommitted changes, staged files, or untracked files.\n2. If changes span multiple repos, verify the agent acknowledged cross-repo impact. Changes to one repo may require coordinated changes in dependent repos.\n3. Run `meta project list` to confirm the agent worked within known workspace projects.\n\nBlock the agent if:\n- Repos were modified but the agent didn't acknowledge the scope of changes across the workspace.\n- The agent made changes in a repo without checking whether dependent repos need updates.\n\nAllow the agent to stop if:\n- No repos were modified.\n- The agent addressed workspace-level concerns (cross-repo consistency, dependency awareness).\n- The agent is explicitly handing back to the user for review.\n\nMeta commands for workspace state:\n- `meta git status` — per-repo git status across the workspace\n- `meta project list` — list all workspace projects and their repos",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
